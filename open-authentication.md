# OAuth research

**Roles:**
- The Third-Party Application: "Client"
- The API: "Resource Server"
- The Authorization Server (at small scale it could be the API server itself)
- The User: "Resource Owner"

**Creating an App:** Registeration
- basic information
- Redirect URIs
- Client ID [public] and client Secret [optional, confidential]

**OAuth 2 "grant types":**
- Authorization Code: for apps running on a web server, browser-based and mobile apps
- Password: only for first-party apps
- Client credentials: for application access without a user present
- Implicit: PKCE


## Web Server Apps
Can use their client secret
Authorization: 
1. Create a "Log in" link sending the user to:
	- response_type=code (your server expects to receive an authorization code)
	- client_id
	- redirect_uri
	- scope
	- state (A random string generated by your app)

2. after user clicks "Allow", redirect back to your app:
	- code (query string)
	- state (to be verified)

3. Getting an Access Token:
	- grant_type=authorization_code 
	- code=AUTH_CODE_HERE (given )
	- redirect_uri=REDIRECT_URI
	- client_id=CLIENT_ID
	- client_secret=CLIENT_SECRET

the reply will be like:
```
{
  "access_token":"RsT5OjbzRn430zqMLgV3Ia",
  "expires_in":3600
}
```
or
```
{
  "error":"invalid_request"
}
```